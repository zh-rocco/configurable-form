(function(e){function t(t){for(var o,a,c=t[0],l=t[1],s=t[2],p=0,f=[];p<c.length;p++)a=c[p],r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/configurable-form/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"5c48":function(e,t,n){},"7c55":function(e,t,n){"use strict";var o=n("5c48"),r=n.n(o);r.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=n("5c96"),i=n.n(r),a=(n("377f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",[n("h1",[e._v("Configurable Form")]),n("a",{staticClass:"star",attrs:{href:"https://github.com/zh-rocco/configurable-form",target:"_blank",title:"Github"}},[n("svg",{staticClass:"icon-github",attrs:{height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}})])])]),n("el-main",[n("el-row",{attrs:{gutter:20}},[n("el-col",{staticClass:"editor",attrs:{span:12}},[n("CodeMirror",{attrs:{value:e.code},on:{change:e.handleCodeMirrorChange}})],1),n("el-col",{staticClass:"previewer",attrs:{span:12}},[n("el-row",[n("ConfigurableForm",{ref:"baseForm",staticClass:"rule-form",attrs:{"form-options":e.config.formOptions,"form-events":e.config.formEvents,"form-items":e.config.formItems,actions:e.config.formActions},model:{value:e.formModel,callback:function(t){e.formModel=t},expression:"formModel"}})],1)],1)],1)],1)],1)}),c=[],l=n("f499"),s=n.n(l),u=(n("96cf"),n("3b8d")),p=n("d225"),f=n("b0b4"),d=n("308d"),h=n("6bb5"),m=n("4e2b"),b=n("9ab4"),g=n("60a3"),v=n("5176"),y=n.n(v),O=n("b047c"),j=n.n(O),k=n("56b3"),x=n.n(k),C=(n("f9d4"),n("a7be"),n("8c06"),{lineNumbers:!0,mode:"javascript",theme:"solarized",tabSize:2,spellcheck:!0,readOnly:!0}),w=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(d["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.currentOptions=void 0,e.editor=void 0,e}return Object(m["a"])(t,e),Object(f["a"])(t,[{key:"handleChange",value:function(){console.log("code mirror change"),this.$emit("change",this.editor.getValue())}},{key:"handleValueChange",value:function(e){e!==this.editor.getValue()&&this.editor.setValue(e)}},{key:"render",value:function(e){return e("textarea",{ref:"textarea"},this.value)}},{key:"mounted",value:function(){this.currentOptions=y()({},C,this.options),this.editor=x.a.fromTextArea(this.$refs.textarea,this.currentOptions),this.editor.on("change",j()(this.handleChange,1e3))}}]),t}(g["d"]);b["a"]([Object(g["c"])({type:String,default:""})],w.prototype,"value",void 0),b["a"]([Object(g["c"])({type:Object,default:function(){return{}}})],w.prototype,"options",void 0),b["a"]([Object(g["e"])("value")],w.prototype,"handleValueChange",null),w=b["a"]([g["a"]],w);var _=w,M=n("a745"),F=n.n(M),A=(n("ac6a"),n("768b")),q=n("2d1f"),I=n.n(q),S=(n("7f7f"),n("6762"),n("77c1")),P=n.n(S),$=n("9520"),E=n.n($),V=n("0644"),z=n.n(V),T=["style"];function D(e){return P()(e,function(e,t){return T.includes(t)})}var B=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(d["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.asyncData={},e}return Object(m["a"])(t,e),Object(f["a"])(t,[{key:"fetchAsyncData",value:function(){}},{key:"created",value:function(){this.fetchAsyncData()}},{key:"render",value:function(e){var t=this,n=this.value,o=R(e,this.formItems,this);return this.searchOnChange||o.push(e("el-form-item",{},this.actions.map(function(o){return e("el-button",{key:o.name,props:o.options,on:o.events?I()(o.events).reduce(function(e,o){var r=Object(A["a"])(o,2),i=r[0],a=r[1];return e[i]=function(e){a(e,z()(n),t.baseFormContainer)},e},{}):{}},o.name)}))),e("el-form",{class:"base-form",props:this.localFormOptions,on:this.formEvents,ref:"form"},o)}},{key:"localFormOptions",get:function(){return y()({},this.formOptions,{model:this.value})}},{key:"formInstance",get:function(){return this.$refs.form}}]),t}(g["d"]);b["a"]([Object(g["b"])({default:function(){return this}})],B.prototype,"baseFormContainer",void 0),b["a"]([Object(g["c"])({type:Object,default:function(){return{}}})],B.prototype,"value",void 0),b["a"]([Object(g["c"])({type:Object,default:function(){return{}}})],B.prototype,"formOptions",void 0),b["a"]([Object(g["c"])({type:Object,default:function(){return{}}})],B.prototype,"formEvents",void 0),b["a"]([Object(g["c"])({type:Array,default:function(){return{}}})],B.prototype,"formItems",void 0),b["a"]([Object(g["c"])({type:Array,default:function(){return[]}})],B.prototype,"actions",void 0),b["a"]([Object(g["c"])({type:Boolean,default:!1})],B.prototype,"searchOnChange",void 0),B=b["a"]([g["a"]],B);var J=B;function R(e,t,n){return t.filter(function(e){var t=e.show;return!E()(t)||t(n)}).map(function(t){var o=n.value,r=t.options,i=void 0===r?{}:r,a=t.children,c=t.__prop__,l=i.prop,s=null;return l&&(n.$set(o,l,void 0===o[l]?null:o[l]),a.forEach(function(e){return e.__prop__=l})),s=c?{props:y()({},t.options,{value:o[c]}),attrs:D(t.options),on:{input:function(e){return o[c]=e}}}:{props:t.options,attrs:D(t.options)},e(t.component||"el-form-item",s,F()(t.children)?R(e,a,n):null)})}var G=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(d["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.formModel={date1:"",date2:"",delivery:!1,desc:"",name:"",region:"",resource:"",type:[]},e.config={formItems:[{options:{prop:"name",label:"活动名称"},children:[{component:"el-input"}]},{options:{prop:"region",label:"活动区域"},children:[{component:"el-select",options:{placeholder:"请选择活动区域"},children:[{component:"el-option",options:{label:"区域一",value:"shanghai"}},{component:"el-option",options:{label:"区域二",value:"beijing"}}]}]},{options:{label:"活动时间"},children:[{component:"el-col",options:{span:11},children:[{component:"el-form-item",options:{prop:"date1"},children:[{component:"el-date-picker",options:{type:"date",placeholder:"选择日期",style:"width: 100%;"}}]}]},{component:"el-col",options:{span:2,style:"text-align: center;"},children:[{component:{render:function(e){return e("span",void 0,"-")}}}]},{component:"el-col",options:{span:11},children:[{component:"el-form-item",options:{prop:"date2"},children:[{component:"el-time-picker",options:{type:"fixed-time",placeholder:"选择时间",style:"width: 100%;"}}]}]}]},{options:{prop:"delivery",label:"即时配送"},children:[{component:"el-switch"}]},{options:{prop:"type",label:"活动性质"},children:[{component:"el-checkbox-group",options:{},children:[{component:"el-checkbox",options:{label:"美食/餐厅线上活动"}},{component:"el-checkbox",options:{label:"地推活动"}},{component:"el-checkbox",options:{label:"线下主题活动"}},{component:"el-checkbox",options:{label:"单纯品牌曝光"}}]}]},{options:{prop:"resource",label:"特殊资源"},children:[{component:"el-radio-group",options:{},children:[{component:"el-radio",options:{label:"线上品牌商赞助"}},{component:"el-radio",options:{label:"线下场地免费"}}]}]},{options:{prop:"desc",label:"活动形式"},children:[{component:"el-input",options:{type:"textarea"}}]}],formActions:[{name:"立即创建",options:{type:"primary"},events:{click:function(e,t,n){n.formInstance.validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})}}},{name:"重置",events:{click:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n,o){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o.formInstance.resetFields();case 1:case"end":return e.stop()}},e)}));function t(t,n,o){return e.apply(this,arguments)}return t}()}}],formOptions:{labelWidth:"80px",rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},e}return Object(m["a"])(t,e),Object(f["a"])(t,[{key:"handleCodeMirrorChange",value:function(e){}},{key:"code",get:function(){return s()(this.config,void 0,2)}}]),t}(g["d"]);G=b["a"]([Object(g["a"])({components:{CodeMirror:_,ConfigurableForm:J}})],G);var N=G,W=N,H=(n("7c55"),n("2877")),K=Object(H["a"])(W,a,c,!1,null,null,null),L=K.exports;o["default"].config.productionTip=!1,o["default"].use(i.a),new o["default"]({render:function(e){return e(L)}}).$mount("#app")}});
//# sourceMappingURL=app.86b69152.js.map