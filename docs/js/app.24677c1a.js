(function(n){function e(e){for(var o,a,c=e[0],l=e[1],s=e[2],p=0,f=[];p<c.length;p++)a=c[p],r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],o=!0,c=1;c<t.length;c++){var l=t[c];0!==r[l]&&(o=!1)}o&&(i.splice(e--,1),n=a(a.s=t[0]))}return n}var o={},r={app:0},i=[];function a(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=o,a.d=function(n,e,t){a.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},a.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)a.d(t,o,function(e){return n[e]}.bind(null,o));return t},a.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return a.d(e,"a",e),e},a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.p="/configurable-form/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;i.push([0,"chunk-vendors"]),t()})({0:function(n,e,t){n.exports=t("cd49")},"5c48":function(n,e,t){},"7c55":function(n,e,t){"use strict";var o=t("5c48"),r=t.n(o);r.a},cd49:function(n,e,t){"use strict";t.r(e);t("cadf"),t("551c"),t("f751"),t("097d");var o=t("2b0e"),r=t("5c96"),i=t.n(r),a=(t("377f"),function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-container",[t("el-header",[t("h1",[n._v("Configurable Form")]),t("a",{staticClass:"star",attrs:{href:"https://github.com/zh-rocco/configurable-form",target:"_blank",title:"Github"}},[t("svg",{staticClass:"icon-github",attrs:{height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}})])])]),t("el-main",[t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"editor",attrs:{span:12}},[t("CodeMirror",{attrs:{value:n.code},on:{change:n.handleCodeMirrorChange}})],1),t("el-col",{staticClass:"previewer",attrs:{span:12}},[n.show?t("el-row",[t("ConfigurableForm",{ref:"baseForm",staticClass:"rule-form",attrs:{"form-options":n.config.formOptions,"form-events":n.config.formEvents,"form-items":n.config.formItems,actions:n.config.formActions},model:{value:n.formModel,callback:function(e){n.formModel=e},expression:"formModel"}})],1):n._e()],1)],1)],1)],1)}),c=[],l=t("d225"),s=t("b0b4"),u=t("308d"),p=t("6bb5"),f=t("4e2b"),d=t("9ab4"),h=t("60a3"),m=t("5176"),b=t.n(m),v=t("b047c"),g=t.n(v),y=t("56b3"),O=t.n(y),j=(t("f9d4"),t("a7be"),t("8c06"),{lineNumbers:!0,mode:"javascript",theme:"solarized",tabSize:2,spellcheck:!0}),k=function(n){function e(){var n;return Object(l["a"])(this,e),n=Object(u["a"])(this,Object(p["a"])(e).apply(this,arguments)),n.currentOptions=void 0,n.editor=void 0,n}return Object(f["a"])(e,n),Object(s["a"])(e,[{key:"handleChange",value:function(){console.log("code mirror change"),this.$emit("change",this.editor.getValue())}},{key:"handleValueChange",value:function(n){n!==this.editor.getValue()&&this.editor.setValue(n)}},{key:"render",value:function(n){return n("textarea",{ref:"textarea"},this.value)}},{key:"mounted",value:function(){this.currentOptions=b()({},j,this.options),this.editor=O.a.fromTextArea(this.$refs.textarea,this.currentOptions),this.editor.on("change",g()(this.handleChange,1e3))}}]),e}(h["d"]);d["a"]([Object(h["c"])({type:String,default:""})],k.prototype,"value",void 0),d["a"]([Object(h["c"])({type:Object,default:function(){return{}}})],k.prototype,"options",void 0),d["a"]([Object(h["e"])("value")],k.prototype,"handleValueChange",null),k=d["a"]([h["a"]],k);var w=k,x=t("a745"),C=t.n(x),_=(t("ac6a"),t("768b")),M=t("2d1f"),F=t.n(M),A=(t("7f7f"),t("6762"),t("77c1")),S=t.n(A),q=t("9520"),I=t.n(q),$=t("0644"),P=t.n($),E=["style"];function T(n){return S()(n,function(n,e){return E.includes(e)})}var V=function(n){function e(){var n;return Object(l["a"])(this,e),n=Object(u["a"])(this,Object(p["a"])(e).apply(this,arguments)),n.asyncData={},n}return Object(f["a"])(e,n),Object(s["a"])(e,[{key:"fetchAsyncData",value:function(){}},{key:"created",value:function(){this.fetchAsyncData()}},{key:"render",value:function(n){var e=this,t=this.value,o=B(n,this.formItems,this);return this.searchOnChange||o.push(n("el-form-item",{},this.actions.map(function(o){return n("el-button",{key:o.name,props:o.options,on:o.events?F()(o.events).reduce(function(n,o){var r=Object(_["a"])(o,2),i=r[0],a=r[1];return n[i]=function(n){a(n,P()(t),e.baseFormContainer)},n},{}):{}},o.name)}))),n("el-form",{class:"base-form",props:this.localFormOptions,on:this.formEvents,ref:"form"},o)}},{key:"localFormOptions",get:function(){return b()({},this.formOptions,{model:this.value})}},{key:"formInstance",get:function(){return this.$refs.form}}]),e}(h["d"]);d["a"]([Object(h["b"])({default:function(){return this}})],V.prototype,"baseFormContainer",void 0),d["a"]([Object(h["c"])({type:Object,default:function(){return{}}})],V.prototype,"value",void 0),d["a"]([Object(h["c"])({type:Object,default:function(){return{}}})],V.prototype,"formOptions",void 0),d["a"]([Object(h["c"])({type:Object,default:function(){return{}}})],V.prototype,"formEvents",void 0),d["a"]([Object(h["c"])({type:Array,default:function(){return{}}})],V.prototype,"formItems",void 0),d["a"]([Object(h["c"])({type:Array,default:function(){return[]}})],V.prototype,"actions",void 0),d["a"]([Object(h["c"])({type:Boolean,default:!1})],V.prototype,"searchOnChange",void 0),V=d["a"]([h["a"]],V);var z=V;function B(n,e,t){return e.filter(function(n){var e=n.show;return!I()(e)||e(t)}).map(function(e){var o=t.value,r=e.options,i=void 0===r?{}:r,a=e.children,c=e.__prop__,l=i.prop,s=null;return l&&(t.$set(o,l,void 0===o[l]?null:o[l]),a.forEach(function(n){return n.__prop__=l})),s=c?{props:b()({},e.options,{value:o[c]}),attrs:T(e.options),on:{input:function(n){return o[c]=n}}}:{props:e.options,attrs:T(e.options)},n(e.component||"el-form-item",s,C()(e.children)?B(n,a,t):null)})}t("a481");function D(n){return n=window.Babel.transform(n,{presets:[["env",{loose:!0}]],comments:!1}).code,new Function("return ".concat(n.replace('"use strict";',"").trim()))()}var J="() => ({\n  formItems: [\n    {\n      options: {\n        prop: 'name',\n        label: '活动名称',\n      },\n      children: [\n        {\n          component: 'el-input',\n        },\n      ],\n    },\n    {\n      options: {\n        prop: 'region',\n        label: '活动区域',\n      },\n      children: [\n        {\n          component: 'el-select',\n          options: {\n            placeholder: '请选择活动区域',\n          },\n          children: [\n            {\n              component: 'el-option',\n              options: {\n                label: '区域一',\n                value: 'shanghai',\n              },\n            },\n            {\n              component: 'el-option',\n              options: {\n                label: '区域二',\n                value: 'beijing',\n              },\n            },\n          ],\n        },\n      ],\n    },\n    {\n      options: {\n        label: '活动时间',\n      },\n      children: [\n        {\n          component: 'el-col',\n          options: {\n            span: 11,\n          },\n          children: [\n            {\n              component: 'el-form-item',\n              options: {\n                prop: 'date1',\n              },\n              children: [\n                {\n                  component: 'el-date-picker',\n                  options: {\n                    type: 'date',\n                    placeholder: '选择日期',\n                    style: 'width: 100%;',\n                  },\n                },\n              ],\n            },\n          ],\n        },\n        {\n          component: 'el-col',\n          options: {\n            span: 2,\n            style: 'text-align: center;',\n          },\n          children: [\n            {\n              component: {\n                render(h) {\n                  return h('span', undefined, '-');\n                },\n              },\n            },\n          ],\n        },\n        {\n          component: 'el-col',\n          options: {\n            span: 11,\n          },\n          children: [\n            {\n              component: 'el-form-item',\n              options: {\n                prop: 'date2',\n              },\n              children: [\n                {\n                  component: 'el-time-picker',\n                  options: {\n                    type: 'fixed-time',\n                    placeholder: '选择时间',\n                    style: 'width: 100%;',\n                  },\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n    {\n      options: {\n        prop: 'delivery',\n        label: '即时配送',\n      },\n      children: [\n        {\n          component: 'el-switch',\n        },\n      ],\n    },\n    {\n      options: {\n        prop: 'type',\n        label: '活动性质',\n      },\n      children: [\n        {\n          component: 'el-checkbox-group',\n          options: {},\n          children: [\n            {\n              component: 'el-checkbox',\n              options: {\n                label: '美食/餐厅线上活动',\n              },\n            },\n            {\n              component: 'el-checkbox',\n              options: {\n                label: '地推活动',\n              },\n            },\n            {\n              component: 'el-checkbox',\n              options: {\n                label: '线下主题活动',\n              },\n            },\n            {\n              component: 'el-checkbox',\n              options: {\n                label: '单纯品牌曝光',\n              },\n            },\n          ],\n        },\n      ],\n    },\n    {\n      options: {\n        prop: 'resource',\n        label: '特殊资源',\n      },\n      children: [\n        {\n          component: 'el-radio-group',\n          options: {},\n          children: [\n            {\n              component: 'el-radio',\n              options: {\n                label: '线上品牌商赞助',\n              },\n            },\n            {\n              component: 'el-radio',\n              options: {\n                label: '线下场地免费',\n              },\n            },\n          ],\n        },\n      ],\n    },\n    {\n      options: {\n        prop: 'desc',\n        label: '活动形式',\n      },\n      children: [\n        {\n          component: 'el-input',\n          options: {\n            type: 'textarea',\n          },\n        },\n      ],\n    },\n  ],\n\n  formActions: [\n    {\n      name: '立即创建',\n      options: {\n        type: 'primary',\n      },\n      events: {\n        click(event, formModel, vm) {\n          vm.formInstance.validate((valid) => {\n            if (valid) {\n              alert('submit!');\n            } else {\n              console.log('error submit!!');\n              return false;\n            }\n          });\n        },\n      },\n    },\n    {\n      name: '重置',\n      events: {\n        click: (event, formModel, vm) => {\n          vm.formInstance.resetFields();\n        },\n      },\n    },\n  ],\n\n  formOptions: {\n    labelWidth: '80px',\n    rules: {\n      name: [\n        { required: true, message: '请输入活动名称', trigger: 'blur' },\n        { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' },\n      ],\n      region: [\n        { required: true, message: '请选择活动区域', trigger: 'change' },\n      ],\n      date1: [\n        {\n          type: 'date',\n          required: true,\n          message: '请选择日期',\n          trigger: 'change',\n        },\n      ],\n      date2: [\n        {\n          type: 'date',\n          required: true,\n          message: '请选择时间',\n          trigger: 'change',\n        },\n      ],\n      type: [\n        {\n          type: 'array',\n          required: true,\n          message: '请至少选择一个活动性质',\n          trigger: 'change',\n        },\n      ],\n      resource: [\n        { required: true, message: '请选择活动资源', trigger: 'change' },\n      ],\n      desc: [{ required: true, message: '请填写活动形式', trigger: 'blur' }],\n    },\n  },\n})",N=function(n){function e(){var n;return Object(l["a"])(this,e),n=Object(u["a"])(this,Object(p["a"])(e).apply(this,arguments)),n.formModel={date1:"",date2:"",delivery:!1,desc:"",name:"",region:"",resource:"",type:[]},n.show=!0,n.config=D(J)(),n}return Object(f["a"])(e,n),Object(s["a"])(e,[{key:"handleCodeMirrorChange",value:function(n){var e=this;try{this.show=!1,this.$nextTick(function(){e.config=D(n)(),e.show=!0})}catch(t){console.error("JSON parse error:",t)}}},{key:"code",get:function(){return J}}]),e}(h["d"]);N=d["a"]([Object(h["a"])({components:{CodeMirror:w,ConfigurableForm:z}})],N);var G=N,W=G,H=(t("7c55"),t("2877")),K=Object(H["a"])(W,a,c,!1,null,null,null),L=K.exports;o["default"].config.productionTip=!1,o["default"].use(i.a),new o["default"]({render:function(n){return n(L)}}).$mount("#app")}});
//# sourceMappingURL=app.24677c1a.js.map